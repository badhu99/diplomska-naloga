<div class="div-container">
    <div class="div-header">
        <p *ngIf="!userLoggedIn">  </p>
        <button class="btn create-new" (click)="toggleModalCreateNew()" *ngIf="userLoggedIn">Create new</button>
        <h1>All sensor data</h1>
        <div>
            <button class="btn logout" (click)="navigateViewUsers()" *ngIf="isUserAdmin">View users</button>
            <button class="btn logout" (click)="logout()" *ngIf="userLoggedIn">Logout</button>
        </div>
        <button class="btn logout" (click)="navigateToLogin()" *ngIf="!userLoggedIn">Login</button>
    </div>
    <div class="div-data-group" id="group-{{i}}" *ngFor="let item of sensorGroups; let i = index">
        <div *ngIf="userLoggedIn && checkUserPermission(item)">
            <p></p>
            <label class="group-close" (click)="toggleShowHash(item)" *ngIf="userLoggedIn && checkUserPermission(item) && item.showHash === false || item.showHash === undefined && item.sensorHash !== null">&larr;</label>
            <label class="group-close" (click)="toggleShowHash(item)" *ngIf="userLoggedIn && checkUserPermission(item) && item.showHash === true">&rarr;</label>
            <label class="group-close" >&#9940;</label>
            <label class="group-close" (click)="deleteSensorGroup(item)">&times;</label>
        </div>
        <h1>{{item.showHash === true ? item.sensorHash : item.name}}</h1>
        <p>{{item.description}}</p>
        <button class="btn" (click)="openSensorGroup(item)">OPEN</button>
    </div>
</div>

<div class="modal-overlay" [style.visibility]="showModal ? 'visible' : 'hidden'">
    <div class="modal-content">
        <form [formGroup]="newGroupForm" (ngSubmit)="onCreateNew(newGroupForm)">

            <label class="close close-label" (click)="toggleModalCreateNew()">&times;</label>
            <h1>Create new</h1>
            <label class="new-group-name">Name:</label>
            <input class="name" type="text" formControlName="name" autocomplete="off" data-1p-ignore><br>
            <label class="new-group-name">Description:</label>
            <input class="name" type="text" formControlName="description" autocomplete="off" data-1p-ignore><br>
            <label class="new-group-name">X axis name:</label>
            <input class="axis" type="text" formControlName="xAxis" autocomplete="off" data-1p-ignore><br>
            <label class="new-group-name">Y axis name:</label>
            <input class="axis" type="text" formControlName="yAxis" autocomplete="off" data-1p-ignore><br>
            <label class="new-group-name">Latitude:</label>
            <input class="axis" type="number" formControlName="lat" autocomplete="off" data-1p-ignore><br>
            <label class="new-group-name">Longitude:</label>
            <input class="axis" type="number" formControlName="long" autocomplete="off" data-1p-ignore><br>

            <button type="submit" class="btn">Create</button>
        </form>
    </div>
</div>